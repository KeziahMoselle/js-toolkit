{"version":3,"sources":["../../src/components/Tabs.js"],"names":["Base","transition","Tabs","items","$refs","btn","map","index","id","$id","content","setAttribute","item","isEnabled","disableItem","enableItem","event","forEach","i","Promise","resolve","btnStyles","$options","styles","contentStyles","$emit","all","from","closed","active","to","open","then","name","position","opacity","pointerEvents","visibility"],"mappings":"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","sourcesContent":["import Base from '../abstracts/Base';\nimport transition from '../utils/css/transition';\n\n/**\n * Tabs class.\n */\nexport default class Tabs extends Base {\n  /**\n   * Tabs options.\n   */\n  get config() {\n    return {\n      name: 'Tabs',\n      styles: {\n        content: {\n          closed: {\n            position: 'absolute',\n            opacity: 0,\n            pointerEvents: 'none',\n            visibility: 'hidden',\n          },\n        },\n      },\n    };\n  }\n\n  /**\n   * Initialize the component's behaviours.\n   *\n   * @return {Tabs} The current instance.\n   */\n  mounted() {\n    this.items = this.$refs.btn.map((btn, index) => {\n      const id = `${this.$id}-${index}`;\n      const content = this.$refs.content[index];\n      btn.setAttribute('id', id);\n      content.setAttribute('aria-labelledby', id);\n\n      const item = { btn, content, isEnabled: index > 0 };\n      if (index > 0) {\n        this.disableItem(item);\n      } else {\n        this.enableItem(item);\n      }\n      return item;\n    });\n\n    return this;\n  }\n\n  /**\n   * Switch tab on button click.\n   *\n   * @param  {Event}  event The click event object.\n   * @param  {Number} index The index of the clicked button.\n   * @return {void}\n   */\n  onBtnClick(event, index) {\n    this.items.forEach((item, i) => {\n      if (i !== index) {\n        this.disableItem(item);\n      }\n    });\n\n    this.enableItem(this.items[index]);\n  }\n\n  /**\n   * Enable the given tab and its associated content.\n   *\n   * @param  {HTMLElement} btn     The tab element.\n   * @param  {HTMLElement} content The content element.\n   * @return {Tabs}                The Tabs instance.\n   */\n  async enableItem(item) {\n    if (!item || item.isEnabled) {\n      return Promise.resolve(this);\n    }\n\n    item.isEnabled = true;\n    const { btn, content } = item;\n    const btnStyles = this.$options.styles.btn || {};\n    const contentStyles = this.$options.styles.content || {};\n\n    content.setAttribute('aria-hidden', 'false');\n    this.$emit('enable', item);\n\n    return Promise.all([\n      transition(\n        btn,\n        {\n          from: btnStyles.closed,\n          active: btnStyles.active,\n          to: btnStyles.open,\n        },\n        'keep'\n      ),\n      transition(\n        content,\n        {\n          from: contentStyles.closed,\n          active: contentStyles.active,\n          to: contentStyles.open,\n        },\n        'keep'\n      ),\n    ]).then(() => Promise.resolve(this));\n  }\n\n  /**\n   * Disable the given tab and its associated content.\n   *\n   * @param  {HTMLElement} btn     The tab element.\n   * @param  {HTMLElement} content The content element.\n   * @return {Tabs}                The Tabs instance.\n   */\n  async disableItem(item) {\n    if (!item || !item.isEnabled) {\n      return Promise.resolve(this);\n    }\n\n    item.isEnabled = false;\n    const { btn, content } = item;\n    const btnStyles = this.$options.styles.btn || {};\n    const contentStyles = this.$options.styles.content || {};\n\n    content.setAttribute('aria-hidden', 'true');\n    this.$emit('disable', item);\n\n    return Promise.all([\n      transition(\n        btn,\n        {\n          from: btnStyles.open,\n          active: btnStyles.active,\n          to: btnStyles.closed,\n        },\n        'keep'\n      ),\n      transition(\n        content,\n        {\n          from: contentStyles.open,\n          active: contentStyles.active,\n          to: contentStyles.closed,\n        },\n        'keep'\n      ),\n    ]).then(() => Promise.resolve(this));\n  }\n}\n"],"file":"Tabs.js"}
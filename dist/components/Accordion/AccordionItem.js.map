{"version":3,"sources":["../../../src/components/Accordion/AccordionItem.js"],"names":["AccordionItem","$refs","btn","setAttribute","$id","content","isOpen","close","open","$log","$emit","container","classes","remove","height","offsetHeight","from","active","$options","enterActive","to","add","leaveActive","name","Base"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;;;;;AAEA;;;IAGqBA,a;;;;;;;;;;;;;AAcnB;;;;8BAIU;AACR,WAAKC,KAAL,CAAWC,GAAX,CAAeC,YAAf,CAA4B,IAA5B,EAAkC,KAAKC,GAAvC;AACA,WAAKH,KAAL,CAAWI,OAAX,CAAmBF,YAAnB,CAAgC,iBAAhC,EAAmD,KAAKC,GAAxD;AACD;AAED;;;;;;;iCAIa;AACX,UAAI,KAAKE,MAAT,EAAiB;AACf,aAAKC,KAAL;AACD,OAFD,MAEO;AACL,aAAKC,IAAL;AACD;AACF;AAED;;;;;;;;;;;;;;qBAKM,KAAKF,M;;;;;;;;AAIT,qBAAKG,IAAL,CAAU,MAAV;AACA,qBAAKC,KAAL,CAAW,MAAX;AAEA,qBAAKJ,MAAL,GAAc,IAAd;AACA,qBAAKL,KAAL,CAAWU,SAAX,CAAqBR,YAArB,CAAkC,aAAlC,EAAiD,OAAjD;AAEAS,gBAAAA,OAAO,CAACC,MAAR,CAAe,KAAKZ,KAAL,CAAWU,SAA1B,EAAqC,WAArC;AACMG,gBAAAA,M,GAAS,KAAKb,KAAL,CAAWI,OAAX,CAAmBU,Y;;uBAC5B,yBAAW,KAAKd,KAAL,CAAWU,SAAtB,EAAiC;AACrCK,kBAAAA,IAAI,EAAE;AAAEF,oBAAAA,MAAM,EAAE;AAAV,mBAD+B;AAErCG,kBAAAA,MAAM,EAAE,KAAKC,QAAL,CAAcC,WAAd,IAA6B,KAAKD,QAAL,CAAcD,MAFd;AAGrCG,kBAAAA,EAAE,EAAE;AAAEN,oBAAAA,MAAM,YAAKA,MAAL;AAAR;AAHiC,iBAAjC,C;;;AAMNF,gBAAAA,OAAO,CAACC,MAAR,CAAe,KAAKZ,KAAL,CAAWU,SAA1B,EAAqC,KAArC;AACAC,gBAAAA,OAAO,CAACC,MAAR,CAAe,KAAKZ,KAAL,CAAWI,OAA1B,EAAmC,UAAnC;;;;;;;;;;;;;;;;AAGF;;;;;;;;;;;;;;oBAKO,KAAKC,M;;;;;;;;AAIV,qBAAKG,IAAL,CAAU,OAAV;AACA,qBAAKC,KAAL,CAAW,OAAX;AAEA,qBAAKJ,MAAL,GAAc,KAAd;AAEMQ,gBAAAA,M,GAAS,KAAKb,KAAL,CAAWI,OAAX,CAAmBU,Y;AAClCH,gBAAAA,OAAO,CAACS,GAAR,CAAY,KAAKpB,KAAL,CAAWI,OAAvB,EAAgC,UAAhC;;uBACM,yBAAW,KAAKJ,KAAL,CAAWU,SAAtB,EAAiC;AACrCK,kBAAAA,IAAI,EAAE;AAAEF,oBAAAA,MAAM,YAAKA,MAAL;AAAR,mBAD+B;AAErCG,kBAAAA,MAAM,EAAE,KAAKC,QAAL,CAAcI,WAAd,IAA6B,KAAKJ,QAAL,CAAcD,MAFd;AAGrCG,kBAAAA,EAAE,EAAE;AAHiC,iBAAjC,C;;;AAKNR,gBAAAA,OAAO,CAACS,GAAR,CAAY,KAAKpB,KAAL,CAAWU,SAAvB,EAAkC,KAAlC;AACAC,gBAAAA,OAAO,CAACS,GAAR,CAAY,KAAKpB,KAAL,CAAWU,SAAvB,EAAkC,WAAlC;AACA,qBAAKV,KAAL,CAAWU,SAAX,CAAqBR,YAArB,CAAkC,aAAlC,EAAiD,MAAjD;;;;;;;;;;;;;;;;;;;AApFF;;;;wBAIa;AACX,aAAO;AACLoB,QAAAA,IAAI,EAAE,eADD;AAELN,QAAAA,MAAM,EAAE,EAFH;AAGLE,QAAAA,WAAW,EAAE,EAHR;AAILG,QAAAA,WAAW,EAAE;AAJR,OAAP;AAMD;;;EAZwCE,c","sourcesContent":["import Base from '../../abstracts/Base';\nimport * as classes from '../../utils/css/classes';\nimport transition from '../../utils/css/transition';\n\n/**\n * AccordionItem class.\n */\nexport default class AccordionItem extends Base {\n  /**\n   * AccordionItem config\n   * @return {Object}\n   */\n  get config() {\n    return {\n      name: 'AccordionItem',\n      active: '',\n      enterActive: '',\n      leaveActive: '',\n    };\n  }\n\n  /**\n   * Add aria-attributes on mounted.\n   * @return {void}\n   */\n  mounted() {\n    this.$refs.btn.setAttribute('id', this.$id);\n    this.$refs.content.setAttribute('aria-labelledby', this.$id);\n  }\n\n  /**\n   * Handler for the click event on the `btn` ref.\n   * @return {void}\n   */\n  onBtnClick() {\n    if (this.isOpen) {\n      this.close();\n    } else {\n      this.open();\n    }\n  }\n\n  /**\n   * Open an item.\n   * @return {void}\n   */\n  async open() {\n    if (this.isOpen) {\n      return;\n    }\n\n    this.$log('open');\n    this.$emit('open');\n\n    this.isOpen = true;\n    this.$refs.container.setAttribute('aria-hidden', 'false');\n\n    classes.remove(this.$refs.container, 'invisible');\n    const height = this.$refs.content.offsetHeight;\n    await transition(this.$refs.container, {\n      from: { height: 0 },\n      active: this.$options.enterActive || this.$options.active,\n      to: { height: `${height}px` },\n    });\n\n    classes.remove(this.$refs.container, 'h-0');\n    classes.remove(this.$refs.content, 'absolute');\n  }\n\n  /**\n   * Close an item.\n   * @return {void}\n   */\n  async close() {\n    if (!this.isOpen) {\n      return;\n    }\n\n    this.$log('close');\n    this.$emit('close');\n\n    this.isOpen = false;\n\n    const height = this.$refs.content.offsetHeight;\n    classes.add(this.$refs.content, 'absolute');\n    await transition(this.$refs.container, {\n      from: { height: `${height}px` },\n      active: this.$options.leaveActive || this.$options.active,\n      to: 'h-0',\n    });\n    classes.add(this.$refs.container, 'h-0');\n    classes.add(this.$refs.container, 'invisible');\n    this.$refs.container.setAttribute('aria-hidden', 'true');\n  }\n}\n"],"file":"AccordionItem.js"}
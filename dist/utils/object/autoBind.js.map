{"version":3,"sources":["../../../src/utils/object/autoBind.js"],"names":["getAllProperties","autoBind","instance","options","exclude","include","filter","key","match","pattern","test","some","forEach","object","descriptor","Object","getOwnPropertyDescriptor","value","bind"],"mappings":";OAAOA,gB;AAWP,eAAe,SAASC,QAAT,CAAkBC,QAAlB,EAA4BC,OAA5B,EAAqC;AAAA,aACrBA,OAAO,IAAI,EADU;AAAA,MAC1CC,OAD0C,QAC1CA,OAD0C;AAAA,MACjCC,OADiC,QACjCA,OADiC;;AAElD,MAAMC,MAAM,GAAG,SAATA,MAAS,CAACC,GAAD,EAAS;AACtB,QAAMC,KAAK,GAAG,SAARA,KAAQ,CAACC,OAAD;AAAA,aAAc,OAAOA,OAAP,KAAmB,QAAnB,GAA8BF,GAAG,KAAKE,OAAtC,GAAgDA,OAAO,CAACC,IAAR,CAAaH,GAAb,CAA9D;AAAA,KAAd;;AAEA,QAAIF,OAAJ,EAAa;AACX,aAAOA,OAAO,CAACM,IAAR,CAAaH,KAAb,CAAP;AACD;;AAED,QAAIJ,OAAJ,EAAa;AACX,aAAO,CAACA,OAAO,CAACO,IAAR,CAAaH,KAAb,CAAR;AACD;;AAED,WAAO,IAAP;AACD,GAZD;;AAcAR,EAAAA,gBAAgB,CAACE,QAAD,CAAhB,CACGI,MADH,CACU;AAAA;AAAA,QAAEC,GAAF;;AAAA,WAAWA,GAAG,KAAK,aAAR,IAAyBD,MAAM,CAACC,GAAD,CAA1C;AAAA,GADV,EAEGK,OAFH,CAEW,iBAAmB;AAAA;AAAA,QAAjBL,GAAiB;AAAA,QAAZM,MAAY;;AAC1B,QAAMC,UAAU,GAAGC,MAAM,CAACC,wBAAP,CAAgCH,MAAhC,EAAwCN,GAAxC,CAAnB;;AACA,QAAIO,UAAU,IAAI,OAAOA,UAAU,CAACG,KAAlB,KAA4B,UAA9C,EAA0D;AACxDf,MAAAA,QAAQ,CAACK,GAAD,CAAR,GAAgBL,QAAQ,CAACK,GAAD,CAAR,CAAcW,IAAd,CAAmBhB,QAAnB,CAAhB;AACD;AACF,GAPH;AASA,SAAOA,QAAP;AACD","sourcesContent":["import getAllProperties from './getAllProperties';\n\n/**\n * Auto-bind methods to an instance.\n *\n * @param  {Object}               instance          The instance.\n * @param  {Object}               options           Define specific methods to include or exlude.\n * @param  {Array<String|RegExp>} [options.include] Methods to include.\n * @param  {Array<String|RegExp>} [options.exclude] Methods to exclude.\n * @return {Object}                                 The instance.\n */\nexport default function autoBind(instance, options) {\n  const { exclude, include } = options || {};\n  const filter = (key) => {\n    const match = (pattern) => (typeof pattern === 'string' ? key === pattern : pattern.test(key));\n\n    if (include) {\n      return include.some(match);\n    }\n\n    if (exclude) {\n      return !exclude.some(match);\n    }\n\n    return true;\n  };\n\n  getAllProperties(instance)\n    .filter(([key]) => key !== 'constructor' && filter(key))\n    .forEach(([key, object]) => {\n      const descriptor = Object.getOwnPropertyDescriptor(object, key);\n      if (descriptor && typeof descriptor.value === 'function') {\n        instance[key] = instance[key].bind(instance);\n      }\n    });\n\n  return instance;\n}\n"],"file":"autoBind.js"}